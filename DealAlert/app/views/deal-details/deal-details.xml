<Page xmlns="http://www.nativescript.org/tns.xsd" navigatedTo="onNavigatedTo">
    <Page.actionBar>
        <ActionBar title="Deal details" icon="">
            <NavigationButton text="Go Back" android.systemIcon="ic_menu_back" tap="onGoBackBtnTap" />
        </ActionBar>
    </Page.actionBar>
    <ScrollView>
        <StackLayout>
            <StackLayout id="stack">
                <Label text="{{ Title }}" class="title" />
                <DockLayout stretchLastChild="false" id="dock">
                    <Image dock="left" width="200" height="200" src="{{ PictureSrc }}" stretch="aspectFill" id="imageElement" />
                    <Label dock="top" text="{{ HotColdRating }}" textWrap="true" class="activity-hotColdStatus" />
                    <!--                 <Button dock="top" text="{{'Hot ('+ HotRating +')'}}" tap="onTapHot" class="activity-hot" /> -->
                    <Button dock="top" id="hotBtn" text="HOT" tap="onTapHot" class="activity-hot" />
                    <Button dock="top" id="coldBtn" text="COLD" tap="onTapCold" class="activity-cold" />
                    <!-- <Button dock="top" text="{{'Cold ('+ ColdRating +')'}}" tap="onTapCold" class="activity-cold" /> -->
                </DockLayout>
                <activity-indicator busy="{{ isLoading }}" rowSpan="2" />
                <Label text="{{ Description }}" textWrap="true" class="activity-description" />
                <Label text="{{'Valid until: '+ ValidUntil }}" textWrap="true" />
                <Label text="{{ 'Promo price: '+ PromoPrice +'$'}}" textWrap="true" />
                <Label text="{{ 'Regular price: '+ RegularPrice +'$'}}" textWrap="true" />
                <Label text="{{ 'Discount: '+ Discount +'%'}}" textWrap="true" />
            </StackLayout>
            <Label text="Comments" textWrap="true" class="comments-title"/>
            
            <ListView items="{{ Comments }}" loaded="onLoaded" itemLoading="onItemLoading" itemTap="onItemTap">
                <ListView.itemTemplate>
                    <Label text="{{' - ' + Text}}" textWrap="true" />
                </ListView.itemTemplate>
            </ListView>
        </StackLayout>
    </ScrollView>
</Page>
